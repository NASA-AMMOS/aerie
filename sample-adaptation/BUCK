java_library(
    name = "lib",
    srcs = glob(["src/main/java/**/*.java"]),
    resources = glob(["src/main/resources/**/*"]),
    resources_root = "src/main/resources/",
    exported_deps = [
        "//third-party/sample-adaptation/core:sample-adaptation",
        "//third-party:JNISpice",
        # Modules
        "//merlin-multimission-models:merlin-multimission-models",
        "//merlin-sdk:merlin-sdk"
    ],
    annotation_processors = ["gov.nasa.jpl.ammos.mpsa.aerie.merlinsdk.processor.ActivityProcessor"],
    annotation_processor_deps = ["//merlin-sdk:merlin-sdk"],
    visibility = ['PUBLIC']
)

java_binary(
    name = "sample-adaptation",
    deps = [
        ":lib"
    ]
)

java_test(
    name = "test_sample-adaptation",
    srcs = glob(["src/test/java/**/*.java"]),
    deps = [
        # Third Party
        "//third-party/sample-adaptation/test:sample-adaptation",
        ":lib"
    ]
)
